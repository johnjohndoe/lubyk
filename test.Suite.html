<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Test Suite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">



    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <link href="css/docs.css" rel="stylesheet">
  </head>

  <body>
    <div class="header">
      <div class="container">
        <div class='row'>
          <div class='span12'>
             <a href='http://lubyk.org'><img alt='lubyk logo' src='img/lubyk.png'/></a> <h1><a href='http://doc.lubyk.org'>Lubyk documentation</a></h1></a> 
          </div>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="row">

        <div class='span3 local-nav'>
          <ul class='nav nav-tabs nav-stacked affix'>
                        <li><a href='#Suite'><i class='icon-chevron-right'></i> test.Suite</a></li>
                        <li><a href='#Setup,-teardown'><i class='icon-chevron-right'></i> Setup, teardown</a></li>
                        <li><a href='#Declare-tests'><i class='icon-chevron-right'></i> Declare tests</a></li>
                        <li><a href='#Run-tests'><i class='icon-chevron-right'></i> Run tests</a></li>
                        <li><a href='#Assertions'><i class='icon-chevron-right'></i> Assertions</a></li>
                      </ul>
        </div>

        <div class='main span7'>

                    <section id='Suite'>
          <h2 class='section'>Test Suite</h2>

                    
                    <p class='summary'>The test suite is used to declare tests and group them by class or module.</p>
                                        <h4 id='new' class='entry function'><span>.</span>new <code>(name)</code></h4>
          
                    <p>Create a new test suite. It is good practice to use 'should' as local name for this suite since it makes tests more readable. The @name@ should be the exact name of the class or module being tested in case the coverage option is activated in test (it is ON by default).</p>
                    <p>Usage example:</p>
                    <pre class='prettyprint lang-lua'>local should = test.Suite 'lk.Dir'

function should.listFilesInDirectory()
  -- ...
end</pre>
                              </section>
                    <section id='Setup,-teardown'>
          <h2 class='section'>Setup, teardown</h2>

                    
                    <p>If you need to run some code before or after every test, you can define the @setup@ (executed before each test) and/or @teardown@ (executed after each test independantly of success or failure) functions:</p>
                    <pre class='prettyprint lang-lua'>local should = test.Suite 'lk.Dir'

function should.teardown()
  -- cleanup
end</pre>
                                        <h4 id='setup' class='entry function'><span>.</span>setup <code>()</code></h4>
          
                    <p>Dummy setup function (does nothing).</p>
                                        <h4 id='teardown' class='entry function'><span>.</span>teardown <code>()</code></h4>
          
                    <p>Dummy teardown function (does nothing).</p>
                              </section>
                    <section id='Declare-tests'>
          <h2 class='section'>Declare tests</h2>

                    
                                        <h4 id='__newindex' class='entry method'><span>:</span>__newindex <code>(key, value)</code></h4>
          
                    <p>Tests are declared by adding functions to the test suite. Note that these functions do not have access to 'self'.</p>
                    <p>Example test declaration:</p>
                    <pre class='prettyprint lang-lua'>functions should.beHappy()
  assertTrue(true)
end</pre>
                              </section>
                    <section id='Run-tests'>
          <h2 class='section'>Run tests</h2>

                    
                    <p>Use @test.all()@ to run the tests in all suites at once. You can append this call at the end of the file to run the test when running the file:</p>
                    <pre class='prettyprint lang-lua'>function should.testLast()
end

-- Run all tests now.
test.all()</pre>
                              </section>
                    <section id='Assertions'>
          <h2 class='section'>Assertions</h2>

                    
                                        <h4 id='fail' class='entry function'>fail <code>(msg)</code></h4>
          
                    <p>Force a test to fail with a given @msg@.</p>
                                        <h4 id='assertFalse' class='entry function'>assertFalse <code>(ok)</code></h4>
          
                    <p>Assert that @ok@ is false.</p>
                                        <h4 id='assertTrue' class='entry function'>assertTrue <code>(ok, msg)</code></h4>
          
                    <p>Assert that @ok@ is true. If @msg@ exists, it is used in case of failure in place of the default fail message.</p>
                                        <h4 id='assertEqual' class='entry function'>assertEqual <code>(expected, value, resolution, up_count)</code></h4>
          
                    <p>Assert that @value@ is equal to @expected@. If @expected@ is a number, the @resolution@ parameter can be used to cope with numerical errors. The actual test for numbers is:</p>
                    <pre class='prettyprint lang-lua'>local ok = (value &gt;= expected - resolution) and (value &lt;= expected + resolution)
</pre>
                    <p>For other types, this tests raw equality (same object). To compare table contents, use <a href='#assertValueEqual'>assertValueEqual</a>.</p>
                                        <h4 id='assertValueEqual' class='entry function'>assertValueEqual <code>(expected, value, resolution, up_count)</code></h4>
          
                    <p>For tables, recursively test that all keys contain the same values.</p>
                                        <h4 id='assertTableEqual' class='entry function'>assertTableEqual <code>(expected, value, resolution, up_count)</code></h4>
          
                    <p>This is like <a href='#assertValueEqual'>assertValueEqual</a> but does not check for table type.</p>
                                        <h4 id='assertNotEqual' class='entry function'>assertNotEqual <code>(unexpected, value)</code></h4>
          
                    <p>Asserts that @value@ is not equal to @unexpected@.</p>
                                        <h4 id='assertMatch' class='entry function'>assertMatch <code>(pattern, value)</code></h4>
          
                    <p>Assert that @value@ matches @pattern@ using @string.match@.</p>
                                        <h4 id='assertNotMatch' class='entry function'>assertNotMatch <code>(pattern, value, msg)</code></h4>
          
                    <p>Assert that @value@ does not match @pattern@. If @msg@ is provided, use this in case of failure.</p>
                                        <h4 id='assertError' class='entry function'>assertError <code>(pattern, func)</code></h4>
          
                    <p>Assert that calling @func@ generates an error message that matches @pattern@.</p>
                                        <h4 id='assertPass' class='entry function'>assertPass <code>(func, teardown)</code></h4>
          
                    <p>Assert that calling @func@ passes without errors. The optional @teardown@  function can be used to cleanup after the function call whether it passes or fails.</p>
                                        <h4 id='assertLessThen' class='entry function'>assertLessThen <code>(expected, value)</code></h4>
          
                    <p>Assert that @value@ is less then @expected@.</p>
                                        <h4 id='assertType' class='entry function'>assertType <code>(expected, value)</code></h4>
          
                    <p>Assert that the Lua type of @value@ is @expected@ ('number', 'table', 'function', etc).</p>
                                        <h4 id='assertNil' class='entry function'>assertNil <code>(value)</code></h4>
          
                    <p>Assert that @value@ is nil.</p>
                                        <h4 id='assertInRange' class='entry function'>assertInRange <code>(t1, t2, value)</code></h4>
          
                    <p>Assert that @value@ is in the range defined by [@t1@, @t2@[.</p>
                              </section>
                  </div>

        <div class='span2 global-nav'>
          <ul class='nav nav-tabs nav-stacked'>
                        <li class='module'><a href='test.html'><span></span>test</a></li>
            
                        <li class='active'><a href='test.Suite.html'>Suite</a></li>
                      </ul>
        </div>
      </div>
    </div>

    <footer class="footer">
    <div class="container">
       made with <a href='http://doc.lubyk.org/lk.Doc.html'>lk.Doc</a> 
    </div>
    </footer>

    <script src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=lua&skin=default'></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        config: ["MMLorHTML.js"],
        jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
        extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js"],
        TeX: {
          extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
        },
        menuSettings: {
          zoom: "Hover",
          mpContext: true,
          mpMouse: true
        },
      });
    </script>
    <script type="text/javascript"
      src='https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js'></script>
    <script src='http://code.jquery.com/jquery.js'></script>
    <script src='js/bootstrap.min.js'></script>
  </body>
</html>

